机器视觉之照明常识

照明的目的是增强对比度。在一幅机器视觉的图像中，对比度代表着图像信号的质量，它反应了两个区域间的差别，比如物体和背景的差别。因此，设计光源照明的第一步是确定区域间的不同，然后用光源来突出这些不同之处。

1:光源照明设计的基本因素
主要有4个基本因素要重点考虑：
（1）镜头的视场

在照明系统的设计中，应根据被测对象的尺寸确定镜头的视场。而后，再根据镜头视场的大小决定最佳的照明系统。
（2）照明系统与工件的间距

在设计系统中，需全面的了解镜头到工作的距离，照明系统到工件的距离，从而确定光源与工件的距离。

（3）工件的外形、条件和颜色
照明的选择是由工件表面的形状、平坦度、光滑程度等条件决定的。最佳的照明颜色（红、兰、绿、白）可通过检测工作或被检测区域的颜色来决定。

（4）成像物镜
一般情况下，应针对确定的成像物镜进行照明系统的设计，其检验标准为：工件中需要可视化的部分、划痕、缺陷等是否被显现出来，工件表面上的印纹是否能够辨认等。

2:突显不同区域的方法
反射系数 ---- 从物体反射出的光量是可以度量的。有两种不同的反射方法：
a) 镜面反射：入射角等于出射角。
b) 漫反射：由于物体表面不平，出射光方向各异。

颜色 ---- 也就是光谱分布，我们从三个角度来衡量颜色：
a) 波长：比如绿光的波长为550nm。
b) 两种或两种以上光波的混合比：混合的目的是为了产生另一种光。比如黄光（波长620nm）和蓝光（波长480nm）混合在一起便会成为绿光，然而实际上，光谱的分布中并没有绿光的分布。
c) 补色：从白光中移除的那部分光与剩余的光互为补色光。比如，白色金属铁和黄色金属金颜色不同并不是金反射的黄光比铁多，而是反射的蓝光比铁少。白光中去除蓝光即为黄光。

光密度 ---- 由于不同物体材料、厚度和化学性质不同，所以投射光的数量和强度也不同。光密度会在整个光谱范围不同，或者只在某一个范围不同。一般来说，背光是鉴别光密度不同的最好方法。

折射 ---- 不同透明物质折射率不同，所以它们会以不同的方式影响光的传播。比如，空气气泡混合在玻璃里面，当光线直射时，会出现或明或暗的气泡边缘。

纹理 ---- 物体表面纹理有些是可辨识的，有些是过于微小无法处理的，但是它会影响光线的反射。有些情况下，纹理非常重要，必须用光源来突出它；而另外一些情况下，纹理则相当于噪声，必须用光源来突出其它而弱化纹理。

深度 ---- 用直射光可以突出物体的深度（影子效应），而散射光则可以弱化物体的深度。

表面曲向 ---- 由于曲率的不同，表面各处呈现的特性不一样。折射光往往会突出这些特性，而散射光会削弱这些特性。

3:照明技术

(1)一般目的的照明

通用照明一般采用环状或点状照明。环灯是一种常用的通用照明方式，其很容易安装在镜头上，可给漫反射表面提供足够的照明。

(2)背光照明：

背光照明是将光源放置在相对于摄像头的物体的背面。这种照明方式与别的照明方式有很大不同因为图像分析的不是发水光而是入射光。背光照明产生了很强的对比度。应用背光技术时候，物体表面特征可能会丢失。例如，可以应用背光技术测量硬币的直径，但是却无法判断硬币的正反面。

(3)同轴照明：

同轴照明是与摄像头的轴向有相同的方向的光照射到物体的表面。同轴照明使用一种特殊的半反射镜面反射光源到摄像头的透镜轴方向。半反射镜面只让从物体表面反射垂直于透镜的光源通过。同轴照明技术对于实现扁平物体且有镜面特征的表面的均匀照明很有用。此外此技术还可以实现使表面角度变化部分高亮，因为不垂直于摄像头镜头的表面反射的光不会进入镜头，从而造成表面较暗。连续漫反射照明：连续漫反射照明应用于物体表面的反射性或者表面有复杂的角度。连续漫反射照明应用半球形的均匀照明，以减小影子及镜面反射。这种照明方式对于完全组装的电路板照明非常有用。这种光源可以达到170立体角范围的均匀照明。

(4)暗域照明：

暗域照明是相对于物体表面提供低角度照明。使用相机拍摄镜子使其在其视野内，如果在视野内能看见光源就认为使亮域照明，相反的在视野中看不到光源就是暗域照明。因此光源是亮域照明还是暗域照明与光源的位置有关。典型的，暗域照明应用于对表面部分有突起的部分的照明或表面纹理变化的照明。

(5)结构光：
结构光是一种投影在物体表面的有一定几何形状的光（如线形、圆形、正方形）。典型的结构光涉及激光或光纤。结构光可以用来测量相机到光源的距离。多轴照明：在许多应用中，为了使视野下不同的特征表现不同的对比度，需要多重照明技术。 

